# 红楼梦人物社交网络分析作业计划
## 研究对象：薛寶釵（第10-20章）

---

## 一、研究问题（Research Questions）

### 主要研究问题：
1. **薛寶釵在第10-20章中与哪些人物有互动？她的社交网络结构如何？**
2. **薛寶釵在社交网络中的中心性如何？她是否扮演桥梁角色（betweenness centrality）？**

### 子问题：
- 薛寶釵与主要人物（贾宝玉、林黛玉）的互动频率和性质如何？
- 薛寶釵与次要人物（如袭人、鸳鸯、贾母、贾政等）的互动模式如何？
- 薛寶釵的社交网络是否显示出特定的社会功能（如调解、教育、社交等）？

---

## 二、方法论（Methodology）

### 2.1 数据收集阶段
1. **文本预处理**
   - 确认所有文本来自 ctext.org（已提取第10-20章）
   - 清理文本格式，统一编码
   - 标记章节边界

2. **人物识别与提取**
   - 使用Python和正则表达式识别所有人物名称
   - 建立人物名称标准化词典（处理别名、称谓等）
   - 提取薛寶釵出现的所有段落和上下文

3. **互动关系识别**
   - 定义"互动"标准：
     - 直接对话
     - 共同出现在同一场景
     - 被提及或讨论
     - 行为互动（如赠送、拜访等）
   - 使用Python脚本自动识别互动关系
   - 手动验证和补充（close reading）

### 2.2 数据分析阶段
1. **网络构建**
   - 节点（Nodes）：所有与薛寶釵互动的人物
   - 边（Edges）：互动关系
   - 权重（Weight）：互动频率或强度
   - 方向（Direction）：有向图（谁主动互动）

2. **网络分析指标**
   - **度中心性（Degree Centrality）**：薛寶釵的直接连接数
   - **介数中心性（Betweenness Centrality）**：薛寶釵作为桥梁的重要性
   - **接近中心性（Closeness Centrality）**：薛寶釵到其他节点的平均距离
   - **入度/出度（In-degree/Out-degree）**：主动互动 vs 被动互动
   - **聚类系数（Clustering Coefficient）**：薛寶釵周围人物之间的连接密度

3. **可视化**
   - 使用Gephi或NetworkX创建网络图
   - 节点大小：度中心性
   - 节点颜色：人物类型（主要/次要）
   - 边粗细：互动频率
   - 布局算法：Force-directed layout

### 2.3 结果呈现阶段
- 使用StoryMaps或Streamlit创建交互式展示
- 包含网络可视化、统计图表、文本证据

---

## 三、工具清单（Tools）

### 3.1 数据来源
- ✅ **Ctext.org** (https://ctext.org/hongloumeng) - 文本来源（已提取）

### 3.2 数据处理与分析
- **Python 3.x**
  - `re` - 正则表达式（文本提取）
  - `pandas` - 数据处理
  - `networkx` - 网络分析
  - `matplotlib/seaborn` - 数据可视化
  - `jieba` - 中文分词（如需要）

### 3.3 网络可视化
- **Gephi** (https://gephi.org/) 或
- **NetworkX** (https://networkx.org/) - Python库

### 3.4 结果展示
- **StoryMaps** (https://storymaps.com/) 或
- **Streamlit** (https://streamlit.io/) - 交互式Web应用

### 3.5 AI辅助工具
- **PolyU GenAI** (https://genai.polyu.edu.hk/) - 用于文本分析和代码生成

---

## 四、详细执行步骤（Step-by-Step Plan）

### 阶段一：数据准备（预计2-3小时）

#### 步骤1.1：文本清理与标准化
- [ ] 检查所有10-20章文本文件的完整性
- [ ] 统一文本编码（UTF-8）
- [ ] 移除无关内容（如标题、页码等）
- [ ] 保存清理后的文本

#### 步骤1.2：人物名称词典构建
- [ ] 列出所有可能的人物名称变体：
  - 薛寶釵：寶釵、寶姐姐、薛大姑娘、薛姑娘等
  - 贾宝玉：寶玉、寶二爺、寶兄弟等
  - 林黛玉：黛玉、林妹妹、林姑娘等
  - 其他次要人物名称
- [ ] 创建人物名称映射表（CSV格式）

#### 步骤1.3：提取薛寶釵相关段落
- [ ] 编写Python脚本搜索所有包含"薛寶釵"、"寶釵"、"寶姐姐"的段落
- [ ] 提取上下文（前后各50-100字）
- [ ] 标记章节和位置

### 阶段二：互动关系识别（预计3-4小时）

#### 步骤2.1：定义互动规则
- [ ] 制定互动识别规则：
  - 同句出现
  - 对话模式（"寶釵道"、"寶釵說"等）
  - 行为动词（"見"、"訪"、"送"等）
  - 共同场景描述

#### 步骤2.2：自动提取互动关系
- [ ] 编写Python脚本自动识别互动
- [ ] 生成互动关系矩阵（人物×人物）
- [ ] 记录互动类型和频率

#### 步骤2.3：人工细读验证
- [ ] 逐章细读，验证自动提取结果
- [ ] 补充遗漏的互动关系
- [ ] 标注互动性质（对话/行为/提及）
- [ ] 记录关键文本证据

#### 步骤2.4：数据整理
- [ ] 创建互动关系表（CSV格式）：
  - 列：Source（薛寶釵）, Target（其他人物）, Weight（频率）, Type（互动类型）, Chapter（章节）
- [ ] 创建人物属性表：
  - 人物名称、类型（主要/次要）、首次出现章节等

### 阶段三：网络分析（预计2-3小时）

#### 步骤3.1：构建网络图
- [ ] 使用NetworkX创建有向图
- [ ] 添加节点（所有人物）
- [ ] 添加边（互动关系）
- [ ] 设置权重（互动频率）

#### 步骤3.2：计算中心性指标
- [ ] 度中心性（Degree Centrality）
- [ ] 介数中心性（Betweenness Centrality）
- [ ] 接近中心性（Closeness Centrality）
- [ ] 入度/出度分析
- [ ] 聚类系数

#### 步骤3.3：网络可视化
- [ ] 使用Gephi或NetworkX可视化
- [ ] 调整布局（Force-directed, Circular等）
- [ ] 设置节点大小和颜色
- [ ] 导出高质量图片

#### 步骤3.4：统计分析
- [ ] 计算网络基本统计：
  - 节点数、边数、密度
  - 平均度、平均路径长度
- [ ] 生成统计报告

### 阶段四：结果展示（预计3-4小时）

#### 步骤4.1：准备展示材料
- [ ] 网络可视化图片（高分辨率）
- [ ] 统计图表（中心性指标对比等）
- [ ] 关键文本证据摘录
- [ ] 数据表格（互动关系表）

#### 步骤4.2：创建StoryMaps或Streamlit应用
- [ ] 如果选择StoryMaps：
  - 创建故事地图
  - 添加网络可视化
  - 添加章节分析
  - 添加文本证据
- [ ] 如果选择Streamlit：
  - 创建交互式Web应用
  - 添加网络可视化（使用plotly或pyvis）
  - 添加数据筛选功能
  - 添加统计面板

#### 步骤4.3：准备数据仓库
- [ ] 创建OneDrive/GoogleDrive/Github仓库
- [ ] 上传原始数据（文本文件）
- [ ] 上传处理后的数据（CSV表格）
- [ ] 上传分析代码（Python脚本）
- [ ] 上传分析结果（图片、报告）

### 阶段五：PPT制作（预计2-3小时）

#### 步骤5.1：幻灯片结构
1. **标题页**
   - 题目：薛寶釵的社交网络分析（第10-20章）
   - 姓名、学号、日期

2. **Introduction（1-2页）**
   - 研究问题1-2个
   - 研究背景和意义

3. **Methodology & Tools（2-3页）**
   - 数据来源和方法
   - 使用的工具（截图）
   - 工作流程（流程图）

4. **Findings and Results（3-4页）**
   - 网络可视化图
   - 中心性指标分析
   - 关键发现和文本证据
   - 统计图表

5. **Reflection（1-2页）**
   - 回答研究问题
   - 主要发现总结
   - 研究局限和未来方向

6. **数据链接页（1页）**
   - OneDrive/GoogleDrive/Github链接
   - 包含所有数据和代码

7. **参考文献（不计入页数）**
   - APA/MLA/Chicago格式

#### 步骤5.2：内容要求
- [ ] 每页不超过10页（不含参考文献）
- [ ] 包含工作流程截图
- [ ] 包含数据链接
- [ ] 使用清晰的图表和可视化
- [ ] 英文或中文均可（根据要求）

### 阶段六：反思论文写作（预计2-3小时）

#### 步骤6.1：论文结构（500-1000字英文）
1. **Introduction（100-150字）**
   - 研究背景
   - 使用的工具和方法

2. **Workflow Description（200-300字）**
   - 详细描述工作流程
   - 包含关键步骤截图
   - 说明每个工具的使用

3. **Tool Reflection（200-300字）**
   - 对每个工具的评价：
     - Ctext.org：数据获取的便利性
     - Python/NetworkX：网络分析的效率
     - Gephi/可视化工具：可视化的效果
     - StoryMaps/Streamlit：结果展示的优势
   - 工具的优缺点
   - 遇到的挑战和解决方案

4. **Conclusion（100-150字）**
   - 总结经验和收获
   - 对数字人文工具的看法

---

## 五、时间安排（Timeline）

| 阶段 | 任务 | 预计时间 | 优先级 |
|------|------|----------|--------|
| 阶段一 | 数据准备 | 2-3小时 | 高 |
| 阶段二 | 互动关系识别 | 3-4小时 | 高 |
| 阶段三 | 网络分析 | 2-3小时 | 高 |
| 阶段四 | 结果展示 | 3-4小时 | 中 |
| 阶段五 | PPT制作 | 2-3小时 | 中 |
| 阶段六 | 反思论文 | 2-3小时 | 中 |
| **总计** | | **14-20小时** | |

**建议时间分配：**
- 第1-2天：完成阶段一、二（数据准备和关系识别）
- 第3-4天：完成阶段三、四（网络分析和展示）
- 第5天：完成阶段五、六（PPT和论文）

---

## 六、预期成果（Expected Deliverables）

### 6.1 数据文件
- ✅ 原始文本文件（10-20章）
- [ ] 清理后的文本文件
- [ ] 人物名称词典（CSV）
- [ ] 互动关系表（CSV）
- [ ] 网络数据文件（GML/GraphML格式）

### 6.2 分析代码
- [ ] 文本提取脚本（Python）
- [ ] 互动关系识别脚本（Python）
- [ ] 网络分析脚本（Python）
- [ ] 可视化脚本（Python/Gephi）

### 6.3 可视化结果
- [ ] 网络图（PNG/SVG）
- [ ] 统计图表（PNG/PDF）
- [ ] 交互式展示（StoryMaps链接或Streamlit应用）

### 6.4 报告文件
- [ ] PPT演示文稿（≤10页，PPTX或PDF）
- [ ] 反思论文（500-1000字英文，PDF）
- [ ] 最终提交PDF（包含PPT和论文）

---

## 七、关键注意事项（Important Notes）

### 7.1 数据来源要求
- ⚠️ **所有文本必须来自ctext.org**
- ⚠️ 已提取的文本需要验证来源

### 7.2 提交要求
- ⚠️ PPT不超过10页（不含参考文献）
- ⚠️ 必须包含数据链接（OneDrive/GoogleDrive/Github等）
- ⚠️ 必须包含所有原始数据、分析结果和代码
- ⚠️ 最终提交单个PDF文件到Turnitin

### 7.3 学术诚信
- ⚠️ 所有代码和数据必须原创
- ⚠️ 引用所有使用的工具和资源
- ⚠️ 标注所有文本引用

### 7.4 技术建议
- 💡 使用版本控制（Git）管理代码
- 💡 定期备份数据和结果
- 💡 保存中间结果以便复查
- 💡 记录所有参数设置和决策

---

## 八、研究假设（Research Hypotheses）

基于对《红楼梦》的了解，我们预期：

1. **薛寶釵的社交网络特点：**
   - 与贾宝玉、林黛玉有频繁互动（主要人物）
   - 与贾母、王夫人等长辈有互动（体现孝道）
   - 与袭人、莺儿等丫鬟有互动（主仆关系）
   - 可能扮演调解者角色（betweenness centrality较高）

2. **互动性质：**
   - 多为对话和社交互动
   - 可能涉及教育和指导（如帮助宝玉改诗）
   - 体现其"贤淑"、"知书达理"的性格特点

3. **网络结构：**
   - 薛寶釵可能处于网络中心位置
   - 可能连接不同群体（如连接宝玉和黛玉）
   - 网络密度可能较高（人物之间联系紧密）

---

## 九、下一步行动（Next Steps）

### 立即开始：
1. ✅ 确认文本文件完整性
2. [ ] 开始文本清理和标准化
3. [ ] 构建人物名称词典
4. [ ] 编写第一个Python脚本（文本提取）

### 需要准备：
- [ ] 安装Python环境（如未安装）
- [ ] 安装必要的Python库（pandas, networkx, matplotlib等）
- [ ] 下载Gephi（如选择使用）
- [ ] 注册StoryMaps或准备Streamlit环境

---

## 十、参考资料（References）

### 工具文档：
- NetworkX文档：https://networkx.org/documentation/stable/
- Gephi教程：https://gephi.org/users/
- StoryMaps指南：https://storymaps.arcgis.com/
- Streamlit文档：https://docs.streamlit.io/

### 学术资源：
- Ctext.org 红楼梦：https://ctext.org/hongloumeng
- 网络分析理论：Social Network Analysis相关文献

---

**计划制定日期：** 2024年
**最后更新：** 待补充

---

## 附录：代码框架示例

### Python脚本结构示例：

```python
# 1. 文本提取脚本框架
import re
import pandas as pd

def extract_baochai_mentions(text_files):
    """提取所有薛寶釵相关的段落"""
    # 实现代码
    pass

# 2. 互动关系识别脚本框架
def identify_interactions(text, character_dict):
    """识别互动关系"""
    # 实现代码
    pass

# 3. 网络分析脚本框架
import networkx as nx

def build_network(interaction_df):
    """构建网络图"""
    G = nx.DiGraph()
    # 添加节点和边
    return G

def calculate_centrality(G):
    """计算中心性指标"""
    # 实现代码
    pass
```

---

**祝研究顺利！如有问题，随时调整计划。**

